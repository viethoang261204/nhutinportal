<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hỗ trợ kỹ thuật - NHUTIN Customer Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Be Vietnam Pro', sans-serif; background: #E8F3EC; min-height: 100vh; }
        .app-container { display: flex; min-height: 100vh; }

        /* Sidebar */
        .sidebar { width: 280px; background: linear-gradient(180deg, #2D4A3E 0%, #243D33 100%); padding: 24px 16px; display: flex; flex-direction: column; position: fixed; height: 100vh; z-index: 100; transition: transform 0.3s ease; }
        .sidebar-header { display: flex; align-items: center; gap: 12px; padding: 0 12px 24px; border-bottom: 1px solid rgba(255,255,255,0.1); margin-bottom: 24px; }
        .logo-icon { width: 40px; height: 40px; background: rgba(255,255,255,0.15); border-radius: 10px; display: flex; align-items: center; justify-content: center; }
        .logo-icon svg { width: 22px; height: 22px; fill: #fff; }
        .logo-text { color: #fff; font-size: 16px; font-weight: 600; }
        .nav-menu { flex: 1; overflow-y: auto; }
        .nav-section { margin-bottom: 24px; }
        .nav-section-title { color: rgba(255,255,255,0.5); font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; padding: 0 12px; margin-bottom: 8px; }
        .nav-item { display: flex; align-items: center; gap: 12px; padding: 12px; border-radius: 10px; color: rgba(255,255,255,0.75); text-decoration: none; font-size: 14px; transition: all 0.2s ease; margin-bottom: 2px; }
        .nav-item:hover { background: rgba(255,255,255,0.08); color: #fff; }
        .nav-item.active { background: rgba(255,255,255,0.15); color: #fff; font-weight: 500; }
        .nav-item svg { width: 20px; height: 20px; stroke: currentColor; fill: none; stroke-width: 1.5; }
        .nav-badge { margin-left: auto; background: #E74C3C; color: #fff; font-size: 11px; font-weight: 600; padding: 2px 8px; border-radius: 10px; }
        .sidebar-footer { border-top: 1px solid rgba(255,255,255,0.1); padding-top: 16px; }
        .user-info { display: flex; align-items: center; gap: 12px; padding: 12px; border-radius: 10px; cursor: pointer; }
        .user-info:hover { background: rgba(255,255,255,0.08); }
        .user-avatar { width: 40px; height: 40px; border-radius: 10px; object-fit: cover; }
        .user-details { flex: 1; }
        .user-name { color: #fff; font-size: 14px; font-weight: 500; }
        .user-email { color: rgba(255,255,255,0.6); font-size: 12px; }

        /* Main Content */
        .main-content { flex: 1; margin-left: 280px; padding: 32px; min-height: 100vh; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; flex-wrap: wrap; gap: 16px; }
        .page-title { font-size: 24px; font-weight: 600; color: #1a1a1a; margin-bottom: 4px; }
        .page-subtitle { color: #666; font-size: 14px; }

        .btn { display: inline-flex; align-items: center; gap: 8px; padding: 12px 20px; border-radius: 10px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s; text-decoration: none; font-family: inherit; }
        .btn svg { width: 18px; height: 18px; }
        .btn-primary { background: #2D4A3E; border: none; color: #fff; }
        .btn-primary:hover { background: #3D5F4F; transform: translateY(-1px); }

        /* Stats */
        .stats-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px; margin-bottom: 24px; }
        .stat-card { background: #fff; border-radius: 14px; padding: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.04); }
        .stat-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; }
        .stat-icon { width: 42px; height: 42px; border-radius: 10px; display: flex; align-items: center; justify-content: center; }
        .stat-icon svg { width: 20px; height: 20px; fill: none; stroke-width: 1.5; }
        .stat-icon.open { background: #FFF3E8; }
        .stat-icon.open svg { stroke: #C75E00; }
        .stat-icon.progress { background: #E8F0F8; }
        .stat-icon.progress svg { stroke: #2D5A8E; }
        .stat-icon.resolved { background: #E8F3EC; }
        .stat-icon.resolved svg { stroke: #2D4A3E; }
        .stat-icon.total { background: #F3E8F8; }
        .stat-icon.total svg { stroke: #7B2D8E; }
        .stat-value { font-size: 28px; font-weight: 700; color: #1a1a1a; }
        .stat-label { font-size: 13px; color: #888; }

        /* Tabs */
        .tabs { display: flex; gap: 8px; margin-bottom: 24px; flex-wrap: wrap; }
        .tab { padding: 10px 18px; background: #fff; border: 1px solid #e0e0e0; border-radius: 10px; font-size: 13px; font-weight: 500; color: #666; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 8px; }
        .tab:hover { border-color: #2D4A3E; color: #2D4A3E; }
        .tab.active { background: #2D4A3E; border-color: #2D4A3E; color: #fff; }
        .tab-count { background: rgba(0,0,0,0.1); padding: 2px 8px; border-radius: 8px; font-size: 11px; }
        .tab.active .tab-count { background: rgba(255,255,255,0.2); }

        /* Tickets List */
        .tickets-list { display: flex; flex-direction: column; gap: 16px; }

        .ticket-card { background: #fff; border-radius: 16px; padding: 24px; box-shadow: 0 2px 12px rgba(0,0,0,0.04); transition: all 0.2s; }
        .ticket-card:hover { box-shadow: 0 4px 20px rgba(0,0,0,0.08); }

        .ticket-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px; flex-wrap: wrap; gap: 12px; }
        .ticket-info { flex: 1; }
        .ticket-id { font-size: 12px; color: #888; margin-bottom: 4px; }
        .ticket-title { font-size: 16px; font-weight: 600; color: #1a1a1a; margin-bottom: 6px; }
        .ticket-meta { display: flex; gap: 16px; flex-wrap: wrap; }
        .ticket-meta-item { display: flex; align-items: center; gap: 6px; font-size: 12px; color: #666; }
        .ticket-meta-item svg { width: 14px; height: 14px; stroke: #888; }

        .ticket-status { display: flex; align-items: center; gap: 6px; padding: 6px 14px; border-radius: 20px; font-size: 12px; font-weight: 500; }
        .status-open { background: #FFF3E8; color: #C75E00; }
        .status-open::before { content: ''; width: 6px; height: 6px; background: #C75E00; border-radius: 50%; animation: pulse 2s infinite; }
        .status-progress { background: #E8F0F8; color: #2D5A8E; }
        .status-progress::before { content: ''; width: 6px; height: 6px; background: #2D5A8E; border-radius: 50%; }
        .status-resolved { background: #E8F3EC; color: #2D4A3E; }
        .status-resolved::before { content: ''; width: 6px; height: 6px; background: #2D4A3E; border-radius: 50%; }
        .status-closed { background: #f5f5f5; color: #888; }
        .status-closed::before { content: ''; width: 6px; height: 6px; background: #888; border-radius: 50%; }

        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        .ticket-body { padding: 16px 0; border-top: 1px solid #f0f0f0; border-bottom: 1px solid #f0f0f0; margin-bottom: 16px; }
        .ticket-desc { font-size: 14px; color: #555; line-height: 1.6; }

        .ticket-priority { display: inline-flex; align-items: center; gap: 4px; padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: 600; text-transform: uppercase; }
        .priority-high { background: #FFEBEE; color: #E53935; }
        .priority-medium { background: #FFF3E0; color: #EF6C00; }
        .priority-low { background: #E8F5E9; color: #43A047; }

        .ticket-footer { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 12px; }
        .ticket-assignee { display: flex; align-items: center; gap: 10px; }
        .assignee-avatar { width: 32px; height: 32px; border-radius: 8px; object-fit: cover; }
        .assignee-info { }
        .assignee-label { font-size: 11px; color: #888; }
        .assignee-name { font-size: 13px; font-weight: 500; color: #333; }

        .ticket-actions { display: flex; gap: 8px; }
        .ticket-btn { padding: 8px 16px; border-radius: 8px; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 6px; }
        .ticket-btn svg { width: 16px; height: 16px; }
        .btn-view { background: #f5f5f5; border: none; color: #333; }
        .btn-view:hover { background: #e8e8e8; }
        .btn-reply { background: #2D4A3E; border: none; color: #fff; }
        .btn-reply:hover { background: #3D5F4F; }

        /* New Ticket Modal */
        .ticket-modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; padding: 20px; }
        .ticket-modal.show { display: flex; }
        .ticket-modal-content { background: #fff; border-radius: 20px; padding: 32px; max-width: 560px; width: 100%; max-height: 90vh; overflow-y: auto; animation: modalSlide 0.3s ease; }
        @keyframes modalSlide { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .ticket-modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; }
        .ticket-modal-header h3 { font-size: 20px; font-weight: 600; color: #1a1a1a; }
        .close-modal { width: 36px; height: 36px; border: none; background: #f5f5f5; border-radius: 10px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .close-modal:hover { background: #e8e8e8; }
        .close-modal svg { width: 20px; height: 20px; stroke: #666; }

        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; font-size: 13px; font-weight: 500; color: #333; margin-bottom: 8px; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px 16px; border: 1.5px solid #e0e0e0; border-radius: 10px; font-size: 14px; font-family: inherit; background: #fafafa; transition: all 0.2s; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #2D4A3E; background: #fff; box-shadow: 0 0 0 3px rgba(45,74,62,0.1); }
        .form-group textarea { resize: vertical; min-height: 120px; }
        .form-actions { display: flex; gap: 12px; margin-top: 24px; }
        .form-actions .btn { flex: 1; justify-content: center; }
        .btn-cancel { background: #f5f5f5; border: none; color: #666; }
        .btn-cancel:hover { background: #e8e8e8; }

        /* Mobile */
        @media (max-width: 768px) {
            .sidebar { transform: translateX(-100%); }
            .sidebar.open { transform: translateX(0); }
            .main-content { margin-left: 0; padding: 20px 16px; }
            .page-header { flex-direction: column; align-items: flex-start; }
            .stats-row { grid-template-columns: repeat(2, 1fr); }
            .ticket-footer { flex-direction: column; align-items: flex-start; }
            .ticket-actions { width: 100%; }
            .ticket-btn { flex: 1; justify-content: center; }
        }

        .mobile-menu-btn { display: none; position: fixed; bottom: 24px; right: 24px; width: 56px; height: 56px; background: #2D4A3E; border: none; border-radius: 16px; color: #fff; cursor: pointer; z-index: 101; box-shadow: 0 4px 20px rgba(45,74,62,0.4); }
        .mobile-menu-btn svg { width: 24px; height: 24px; stroke: #fff; }
        @media (max-width: 768px) { .mobile-menu-btn { display: flex; align-items: center; justify-content: center; } }
        .overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 99; }
        .overlay.show { display: block; }

        /* Logout Modal */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1001; align-items: center; justify-content: center; padding: 20px; }
        .modal-overlay.show { display: flex; }
        .modal { background: #fff; border-radius: 20px; padding: 32px; max-width: 400px; width: 100%; text-align: center; animation: modalSlide 0.3s ease; box-shadow: 0 20px 60px rgba(0,0,0,0.2); }
        .modal-icon { width: 72px; height: 72px; background: #FFF3E8; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; }
        .modal-icon svg { width: 36px; height: 36px; stroke: #C75E00; }
        .modal h3 { font-size: 20px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px; }
        .modal p { font-size: 14px; color: #666; margin-bottom: 24px; }
        .modal-actions { display: flex; gap: 12px; }
        .modal-btn { flex: 1; padding: 14px 20px; border-radius: 12px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s; font-family: inherit; }
        .modal-btn-cancel { background: #f5f5f5; border: none; color: #666; }
        .modal-btn-cancel:hover { background: #e8e8e8; }
        .modal-btn-confirm { background: #E74C3C; border: none; color: #fff; }
        .modal-btn-confirm:hover { background: #C0392B; }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo-icon">
                    <svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                </div>
                <span class="logo-text">NHUTIN Portal</span>
            </div>
            <nav class="nav-menu">
                <div class="nav-section">
                    <div class="nav-section-title">Tổng quan</div>
                    <a href="dashboard.html" class="nav-item">
                        <svg viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
                        <span>Dashboard</span>
                    </a>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Dự án</div>
                    <a href="projects.html" class="nav-item">
                        <svg viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                        <span>Tiến độ dự án</span>
                    </a>
                    <a href="handover.html" class="nav-item">
                        <svg viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/></svg>
                        <span>Bàn giao - Nghiệm thu</span>
                    </a>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Kỹ thuật</div>
                    <a href="technical-docs.html" class="nav-item">
                        <svg viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/></svg>
                        <span>Tài liệu kỹ thuật</span>
                    </a>
                    <a href="tickets.html" class="nav-item active">
                        <svg viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3 18v-6a9 9 0 0118 0v6M3 18a3 3 0 003 3h0a3 3 0 003-3v-3a3 3 0 00-3-3h0a3 3 0 00-3 3v3zm18 0a3 3 0 01-3 3h0a3 3 0 01-3-3v-3a3 3 0 013-3h0a3 3 0 013 3v3z"/></svg>
                        <span>Hỗ trợ kỹ thuật</span>
                        <span class="nav-badge">1</span>
                    </a>
                    <a href="maintenance.html" class="nav-item">
                        <svg viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                        <span>Bảo trì định kỳ</span>
                    </a>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Hợp đồng</div>
                    <a href="project-contracts.html" class="nav-item">
                        <svg viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/></svg>
                        <span>Hợp đồng dự án</span>
                    </a>
                </div>
            </nav>
            <div class="sidebar-footer">
                <div class="user-info" onclick="logout()">
                    <img src="https://i.pravatar.cc/150?img=3" alt="User" class="user-avatar">
                    <div class="user-details">
                        <div class="user-name" id="userName">Joaquin</div>
                        <div class="user-email" id="userEmail">joaquin@example.com</div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="page-header">
                <div>
                    <h1 class="page-title">Hỗ trợ kỹ thuật</h1>
                    <p class="page-subtitle">Quản lý yêu cầu hỗ trợ và ticket kỹ thuật</p>
                </div>
                <button class="btn btn-primary" onclick="openNewTicket()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 4v16m8-8H4"/></svg>
                    Tạo ticket mới
                </button>
            </div>

            <!-- Stats -->
            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon open">
                            <svg viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                        </div>
                    </div>
                    <div class="stat-value">1</div>
                    <div class="stat-label">Đang mở</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon progress">
                            <svg viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                        </div>
                    </div>
                    <div class="stat-value">0</div>
                    <div class="stat-label">Đang xử lý</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon resolved">
                            <svg viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                        </div>
                    </div>
                    <div class="stat-value">5</div>
                    <div class="stat-label">Đã giải quyết</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon total">
                            <svg viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/></svg>
                        </div>
                    </div>
                    <div class="stat-value">6</div>
                    <div class="stat-label">Tổng ticket</div>
                </div>
            </div>

            <!-- Tabs -->
            <div class="tabs">
                <button class="tab active">Tất cả <span class="tab-count">6</span></button>
                <button class="tab">Đang mở <span class="tab-count">1</span></button>
                <button class="tab">Đang xử lý <span class="tab-count">0</span></button>
                <button class="tab">Đã giải quyết <span class="tab-count">5</span></button>
            </div>

            <!-- Tickets List -->
            <div class="tickets-list">
                <!-- Open Ticket -->
                <div class="ticket-card">
                    <div class="ticket-header">
                        <div class="ticket-info">
                            <div class="ticket-id">#TK-2024-006</div>
                            <div class="ticket-title">Hệ thống thủy lực có tiếng ồn bất thường khi vận hành</div>
                            <div class="ticket-meta">
                                <div class="ticket-meta-item">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                                    08/12/2024
                                </div>
                                <div class="ticket-meta-item">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 8v4l3 3"/><circle cx="12" cy="12" r="9"/></svg>
                                    2 giờ trước
                                </div>
                                <span class="ticket-priority priority-high">Cao</span>
                            </div>
                        </div>
                        <div class="ticket-status status-open">Đang mở</div>
                    </div>
                    <div class="ticket-body">
                        <div class="ticket-desc">
                            Khi khởi động hệ thống sàn trượt vào buổi sáng, chúng tôi nghe thấy tiếng ồn lạ từ bộ phận thủy lực. Tiếng ồn xuất hiện khoảng 30 giây đầu sau đó giảm dần. Xin hãy kiểm tra và tư vấn giúp chúng tôi.
                        </div>
                    </div>
                    <div class="ticket-footer">
                        <div class="ticket-assignee">
                            <img src="https://i.pravatar.cc/150?img=12" alt="Assignee" class="assignee-avatar">
                            <div class="assignee-info">
                                <div class="assignee-label">Phụ trách</div>
                                <div class="assignee-name">Trần Văn Hùng</div>
                            </div>
                        </div>
                        <div class="ticket-actions">
                            <button class="ticket-btn btn-view">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
                                Xem chi tiết
                            </button>
                            <button class="ticket-btn btn-reply">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"/></svg>
                                Trả lời
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Resolved Ticket -->
                <div class="ticket-card">
                    <div class="ticket-header">
                        <div class="ticket-info">
                            <div class="ticket-id">#TK-2024-005</div>
                            <div class="ticket-title">Yêu cầu hướng dẫn điều chỉnh tốc độ sàn trượt</div>
                            <div class="ticket-meta">
                                <div class="ticket-meta-item">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                                    01/12/2024
                                </div>
                                <div class="ticket-meta-item">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 12l2 2 4-4"/></svg>
                                    Đã giải quyết: 03/12/2024
                                </div>
                                <span class="ticket-priority priority-medium">Trung bình</span>
                            </div>
                        </div>
                        <div class="ticket-status status-resolved">Đã giải quyết</div>
                    </div>
                    <div class="ticket-body">
                        <div class="ticket-desc">
                            Chúng tôi muốn được hướng dẫn cách điều chỉnh tốc độ vận hành của sàn trượt để phù hợp với các loại hàng hóa khác nhau. Xin cung cấp hướng dẫn chi tiết.
                        </div>
                    </div>
                    <div class="ticket-footer">
                        <div class="ticket-assignee">
                            <img src="https://i.pravatar.cc/150?img=12" alt="Assignee" class="assignee-avatar">
                            <div class="assignee-info">
                                <div class="assignee-label">Đã xử lý bởi</div>
                                <div class="assignee-name">Trần Văn Hùng</div>
                            </div>
                        </div>
                        <div class="ticket-actions">
                            <button class="ticket-btn btn-view">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
                                Xem chi tiết
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Another Resolved Ticket -->
                <div class="ticket-card">
                    <div class="ticket-header">
                        <div class="ticket-info">
                            <div class="ticket-id">#TK-2024-004</div>
                            <div class="ticket-title">Hỏi về lịch bảo trì định kỳ hệ thống</div>
                            <div class="ticket-meta">
                                <div class="ticket-meta-item">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                                    25/11/2024
                                </div>
                                <div class="ticket-meta-item">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 12l2 2 4-4"/></svg>
                                    Đã giải quyết: 26/11/2024
                                </div>
                                <span class="ticket-priority priority-low">Thấp</span>
                            </div>
                        </div>
                        <div class="ticket-status status-resolved">Đã giải quyết</div>
                    </div>
                    <div class="ticket-body">
                        <div class="ticket-desc">
                            Xin cho biết lịch bảo trì định kỳ tiếp theo của hệ thống sàn trượt và các hạng mục cần kiểm tra.
                        </div>
                    </div>
                    <div class="ticket-footer">
                        <div class="ticket-assignee">
                            <img src="https://i.pravatar.cc/150?img=8" alt="Assignee" class="assignee-avatar">
                            <div class="assignee-info">
                                <div class="assignee-label">Đã xử lý bởi</div>
                                <div class="assignee-name">Lê Minh Tuấn</div>
                            </div>
                        </div>
                        <div class="ticket-actions">
                            <button class="ticket-btn btn-view">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
                                Xem chi tiết
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div class="overlay" id="overlay" onclick="closeSidebar()"></div>
    <button class="mobile-menu-btn" onclick="toggleSidebar()">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
    </button>

    <!-- New Ticket Modal -->
    <div class="ticket-modal" id="ticketModal" onclick="if(event.target===this)closeTicketModal()">
        <div class="ticket-modal-content">
            <div class="ticket-modal-header">
                <h3>Tạo ticket hỗ trợ mới</h3>
                <button class="close-modal" onclick="closeTicketModal()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
            </div>
            <form onsubmit="submitTicket(event)">
                <div class="form-group">
                    <label>Tiêu đề *</label>
                    <input type="text" placeholder="Mô tả ngắn gọn vấn đề của bạn" required>
                </div>
                <div class="form-group">
                    <label>Loại vấn đề *</label>
                    <select required>
                        <option value="">Chọn loại vấn đề</option>
                        <option value="technical">Sự cố kỹ thuật</option>
                        <option value="operation">Hướng dẫn vận hành</option>
                        <option value="maintenance">Bảo trì / Bảo dưỡng</option>
                        <option value="parts">Phụ tùng thay thế</option>
                        <option value="other">Khác</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Mức độ ưu tiên *</label>
                    <select required>
                        <option value="">Chọn mức độ</option>
                        <option value="high">Cao - Hệ thống ngừng hoạt động</option>
                        <option value="medium">Trung bình - Ảnh hưởng một phần</option>
                        <option value="low">Thấp - Câu hỏi / Tư vấn</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Mô tả chi tiết *</label>
                    <textarea placeholder="Mô tả chi tiết vấn đề bạn gặp phải, các bước đã thử, thông báo lỗi (nếu có)..." required></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-cancel" onclick="closeTicketModal()">Hủy</button>
                    <button type="submit" class="btn btn-primary">Gửi ticket</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Logout Modal -->
    <div class="modal-overlay" id="logoutModal" onclick="if(event.target===this)closeLogoutModal()">
        <div class="modal">
            <div class="modal-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>
            </div>
            <h3>Đăng xuất?</h3>
            <p>Bạn có chắc chắn muốn đăng xuất khỏi tài khoản không?</p>
            <div class="modal-actions">
                <button class="modal-btn modal-btn-cancel" onclick="closeLogoutModal()">Hủy</button>
                <button class="modal-btn modal-btn-confirm" onclick="confirmLogout()">Đăng xuất</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const userData = JSON.parse(localStorage.getItem('nhutin_user') || '{}');
            if (userData.name) document.getElementById('userName').textContent = userData.name;
            if (userData.email) document.getElementById('userEmail').textContent = userData.email;
        });

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
            document.getElementById('overlay').classList.toggle('show');
        }
        function closeSidebar() {
            document.getElementById('sidebar').classList.remove('open');
            document.getElementById('overlay').classList.remove('show');
        }
        function logout() {
            document.getElementById('logoutModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }
        function closeLogoutModal() {
            document.getElementById('logoutModal').classList.remove('show');
            document.body.style.overflow = '';
        }
        function confirmLogout() {
            localStorage.removeItem('nhutin_user');
            localStorage.removeItem('nhutin_logged_in');
            window.location.href = 'login.html';
        }

        function openNewTicket() {
            document.getElementById('ticketModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }
        function closeTicketModal() {
            document.getElementById('ticketModal').classList.remove('show');
            document.body.style.overflow = '';
        }
        function submitTicket(e) {
            e.preventDefault();
            alert('Ticket đã được gửi thành công! Đội ngũ kỹ thuật sẽ liên hệ với bạn trong thời gian sớm nhất.');
            closeTicketModal();
        }

        // Tab functionality
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>

